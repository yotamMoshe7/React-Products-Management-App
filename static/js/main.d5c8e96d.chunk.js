(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/addImageIcon.786809da.webp"},32:function(e,t,a){e.exports=a(57)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),c=a(20),l=a.n(c),i=a(9),s=(a(37),function(){return n.a.createElement("div",{className:"topBar"},"My Store")}),u=(a(38),"Last Added"),o=function(e){var t=e.setAddButtonClick,a=e.setSearchField,r=e.setSelectSort;return n.a.createElement("div",{className:"buttons-input-wrapper"},n.a.createElement("div",{className:"add-button-wrapper",onClick:function(){t(!0)}},n.a.createElement("button",{className:"add-button"},"Add +")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("input",{className:"input",type:"text",placeholder:"Search Products",onChange:function(e){a(e.target.value)}})),n.a.createElement("div",{className:"sort-by-wrapper"},n.a.createElement("select",{name:"sort-options",className:"sort-by",onChange:function(e){r(e.target.value)}},n.a.createElement("option",{value:u},u),n.a.createElement("option",{value:"Highest Price"},"Highest Price"),n.a.createElement("option",{value:"Lowest Price"},"Lowest Price"),n.a.createElement("option",{value:"title"},"title"))))},d=(a(39),{id:null,imageUrl:null,date:null,title:"",description:"",price:""}),p=function(e){switch(!0){case e.title.length>22:return"Title can not contain more then 25 chars";case e.description.length>130:return"Description can not contain more then 130 chars";case e.price.length>7:return"Price can not contain more then 7 chars";case""===e.title||""===e.description||""===e.price:return"Please fill all the input fields";case e.price<=0:return"Price must be greater then 0";case null===e.imageUrl:return"Please upload an image";default:return null}},m=function(e,t){return!(!e.title.toLowerCase().includes(t.toLowerCase())&&!e.description.toLowerCase().includes(t.toLowerCase()))},f=function(e,t){return parseInt(e.price)<parseInt(t.price)?-1:parseInt(e.price)>parseInt(t.price)?1:0},g=function(e,t){return parseInt(e.price)>parseInt(t.price)?-1:parseInt(e.price)<parseInt(t.price)?1:0},b=function(e,t){return parseInt(e.date)<parseInt(t.date)?-1:parseInt(e.date)>parseInt(t.date)?1:0},v=function(e,t){return parseInt(e.date)<parseInt(t.date)?-1:parseInt(e.date)>parseInt(t.date)?1:0},E=function(){return JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[]},I=function(){var e=JSON.parse(localStorage.getItem("lastIdValue"))||0;return localStorage.setItem("lastIdValue",JSON.stringify(e+1)),e},O=a(16),S={INITIAL_ITEMS_ARRAY:"INITIAL_ITEMS_ARRAY"},j=function(e,t){return{type:S.INITIAL_ITEMS_ARRAY,payload:{productsArray:e,selectSort:t}}},h=(a(43),a(15)),N=a(11),y=function(e){var t=e.page,a=e.setPage,r=e.filteredProductList;return n.a.createElement("div",{className:"page-number-wrapper"},n.a.createElement("div",{onClick:t>1?function(){a(t-1)}:null},n.a.createElement(h.a,{icon:N.a,style:{fontSize:"2em",color:t>1?"white":"rgb(70, 67, 67)",marginRight:"0.5vw"}})),n.a.createElement("div",{className:"page-number"}," ",t," "),n.a.createElement("div",{onClick:4*t<r.length?function(){a(t+1)}:null},n.a.createElement(h.a,{icon:N.b,style:{fontSize:"2em",color:4*t<r.length?" white":"rgb(70, 67, 67)",marginLeft:"0.5vw"}})))},w=a(17),P=a.n(w),A=a(21),k=a(22),C=a(12),L=(a(48),a(27));a(52);L.a.initializeApp({apiKey:"AIzaSyAE-A62neuu272fA7MY7VWgxUctzNIURwE",authDomain:"product-management-6d658.firebaseapp.com",projectId:"product-management-6d658",storageBucket:"product-management-6d658.appspot.com",messagingSenderId:"653275623932",appId:"1:653275623932:web:1aedb847f212df211e4279",measurementId:"G-LCRFPLE45M"});var B=L.a.storage(),R=(a(53),a(30)),D=a.n(R),M=function(e){var t=e.product,a=e.setProduct,c=Object(r.useRef)(null),l=Object(r.useState)(null),s=Object(i.a)(l,2),u=s[0],o=s[1],d=Object(r.useState)(null),p=Object(i.a)(d,2),m=p[0],f=p[1],g=["image/png","image/jpeg","image/jpg"],b=function(e){c.current.click()},v=function(e){var t=Object(r.useState)(0),a=Object(i.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(null),s=Object(i.a)(l,2),u=s[0],o=s[1],d=Object(r.useState)(null),p=Object(i.a)(d,2),m=p[0],f=p[1];return Object(r.useEffect)(function(){if(e){var t=B.ref(e.name);t.put(e).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);c(t)},function(e){o(e)},Object(A.a)(P.a.mark(function e(){var a;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:a=e.sent,f(a);case 4:case"end":return e.stop()}},e)})))}},[e]),{progress:n,url:m,error:u}}(u).url;return Object(r.useEffect)(function(){null!==u&&a(Object(C.a)({},t,{imageUrl:v}))},[v]),n.a.createElement("div",{className:"display-image-wrapper"},n.a.createElement("img",{className:"display-image",alt:"product illustration",style:{padding:null===t.imageUrl?"0.2vw":null},src:null===t.imageUrl?D.a:t.imageUrl,onClick:b}),n.a.createElement("label",{className:"uploade-image"},n.a.createElement(h.a,{icon:N.c,style:{marginLeft:"1vw",width:"2.5vw",height:"2.5vw"}},n.a.createElement("button",{onClick:b})),n.a.createElement("input",{type:"file",ref:c,onChange:function(e){var t=e.target.files[0];t&&(g.includes(t.type)?(f(null),o(t)):(o(null),f("Please select an image file (png or jpg)")))},style:{display:"none"}})),m&&n.a.createElement("p",null,m))},T=(a(54),function(e){var t=e.setAddButtonClick,a=e.setMarkProductId,r=e.setProduct,c=e.emptyProductObject;return n.a.createElement("div",{onClick:function(){t(!1),a(null),r(c)}},n.a.createElement(h.a,{icon:N.d,style:{position:"absolute",right:"0px"},className:"colse-button"}))}),U=Object(O.b)(function(e){return{currentItems:e.items.currentItems}},function(e){return{initialProductArray:function(t,a){return e(j(t,a))}}})(function(e){var t=e.initialProductArray,a=e.addButtonClick,c=e.setAddButtonClick,l=e.currentItems,s=e.markProductId,u=e.setMarkProductId,o=e.selectSort,m=Object(r.useState)({id:null,imageUrl:null,date:null,title:"",description:"",price:""}),f=Object(i.a)(m,2),g=f[0],b=f[1],v=Object(r.useState)(!1),O=Object(i.a)(v,2),S=O[0],j=O[1],h=Object(r.useState)(null),N=Object(i.a)(h,2),y=N[0],w=N[1],L=Object(r.useRef)(!1),B=Object(r.useRef)(!1),R=function(e){b(Object(C.a)({},g,Object(k.a)({},e.target.name,e.target.value)))};Object(r.useEffect)(function(){(a||S)&&(b(d),u(null))},[a,S]),Object(r.useEffect)(function(){var e=l.find(function(e){return e.id===s});null!==s&&b({id:e.id,imageUrl:e.imageUrl,date:e.date,title:e.title,description:e.description,price:e.price})},[s,l]),Object(r.useEffect)(function(){if(j(!1),L.current){var e=p(g);if(w(e),null===e){!function(e){for(var t=JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[],a=0;a<t.length;a++)t[a].id===e.id&&(t[a]=e);localStorage.setItem("productsLastAddedSortList",JSON.stringify(t))}(g);var a=E();t(a,o),j(!0),L.current=!1}else L.current=!1}},[g,t,o]),Object(r.useEffect)(function(){if(j(!1),null!==g.date&&null!==g.id&&B.current){var e=p(g);if(w(e),null===e){!function(e){var t=JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[];t.push(e),localStorage.setItem("productsLastAddedSortList",JSON.stringify(t))}(g);var a=E();t(a,o),j(!0),B.current=!1}else B.current=!1}},[g,t,o]);var D=function(){var e=Object(A.a)(P.a.mark(function e(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!==s?(L.current=!0,b(Object(C.a)({},g,{date:new Date}))):(B.current=!0,b(Object(C.a)({},g,{id:I(),date:new Date})));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a||null!==s?n.a.createElement("div",{className:"prducts-display-wrapper"},n.a.createElement("div",{className:"prducts-display-sub-wrapper"},n.a.createElement(T,{setAddButtonClick:c,setMarkProductId:u,setProduct:b,emptyProductObject:d}),n.a.createElement("div",{className:"display-title"},"Product Details"),n.a.createElement(M,{product:g,setProduct:b}),n.a.createElement("div",{className:"display-title"},"Title"),n.a.createElement("input",{className:"product-name",name:"title",type:"text",onChange:R,value:g.title}),n.a.createElement("div",{className:"display-title"},"Description"),n.a.createElement("textarea",{className:"product-description",name:"description",value:g.description,onChange:R}),n.a.createElement("div",{className:"display-title"},"Price"),n.a.createElement("div",{className:"bottom-wrapper"},n.a.createElement("input",{className:"product-price",name:"price",type:"number",value:g.price,onChange:R}),n.a.createElement("div",{className:"error-wrapper"},n.a.createElement("div",{className:"error-message"},y)),n.a.createElement("button",{className:"save-button",onClick:D},"Save")))):null}),x=(a(55),function(e){var t=e.id,a=e.productDetails,c=e.markProductId,l=e.setMarkProductId,i=e.setAddButtonClick,s=e.setProductIdToDelete,u=e.finishDeleteProduct,o=Object(r.useRef)(!1);return n.a.createElement("div",{className:"element-wrapper",style:{backgroundColor:c===t?"rgb(11, 43, 11)":null},onClick:function(){c!==t?o.current||(l(t),i(!1)):l(null)}},n.a.createElement("div",{className:"image-wrapper"},n.a.createElement("img",{className:"image",src:a.imageUrl,alt:"product illustration"})),n.a.createElement("div",{className:"details-wrapper"},n.a.createElement("textarea",{className:"title",disabled:!0,value:a.title}),n.a.createElement("textarea",{className:"description",disabled:!0,value:a.description})),n.a.createElement("div",{className:"date"},null!==a.date?function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth(),"/").concat(t.getFullYear())}(a.date):null),n.a.createElement("div",{className:"delete-button-wrapper"},n.a.createElement("div",{className:"price"},a.price,"$"),n.a.createElement("button",{className:"delete-button",onClick:function(){o.current=!0,u.current=!1,s(t)}},"delete button")))}),J=Object(O.b)(function(e){return{currentItems:e.items.currentItems}},function(e){return{initialProductArray:function(t,a){return e(j(t,a))}}})(function(e){var t=e.addButtonClick,a=e.setAddButtonClick,c=e.searchField,l=e.currentItems,s=e.initialProductArray,u=e.selectSort,o=Object(r.useState)(null),d=Object(i.a)(o,2),p=d[0],f=d[1],g=Object(r.useState)([]),b=Object(i.a)(g,2),v=b[0],I=b[1],O=Object(r.useState)(null),S=Object(i.a)(O,2),j=S[0],h=S[1],N=Object(r.useState)(1),w=Object(i.a)(N,2),P=w[0],A=w[1],k=Object(r.useRef)(!0),C=Object(r.useRef)(!1);Object(r.useEffect)(function(){var e=E();s(e,u),A(1)},[u,s]),Object(r.useEffect)(function(){for(var e=[],t=0;t<l.length;t++)m(l[t],c)&&e.push(l[t]);I(e),k.current=!1},[l,c]),Object(r.useEffect)(function(){f(null),h(null)},[l]),Object(r.useEffect)(function(){l.length%4===0&&4*P>l.length&&P>1&&A(P-1)},[P,l]),Object(r.useEffect)(function(){if(null!==j&&!C.current){f(null),function(e){for(var t=[],a=JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[],r=0;r<a.length;r++)a[r].id!==e.id&&t.push(a[r]);localStorage.setItem("productsLastAddedSortList",JSON.stringify(t))}(l.find(function(e){return e.id===j}));var e=E();s(e,u),C.current=!0}},[j,s,u,l]);return n.a.createElement("div",{className:"products-display-container-wrapper"},n.a.createElement("div",null,0!==v.length||k.current?n.a.createElement("div",null,n.a.createElement("div",{className:"products-display-container"},v.length>0?function(){for(var e=[],t=4*(P-1);t<4*P&&void 0!==v[t];t++)e.push(n.a.createElement(x,{key:t,id:v[t].id,markProductId:p,setMarkProductId:f,setAddButtonClick:a,productDetails:v[t],setProductIdToDelete:h,currentItems:l,finishDeleteProduct:C}));return e}():null),n.a.createElement(y,{page:P,setPage:A,filteredProductList:v})):n.a.createElement("div",{className:"no-products-message"},"No Products")),n.a.createElement(U,{addButtonClick:t,setAddButtonClick:a,markProductId:p,setMarkProductId:f,setProductIdToDelete:h,selectSort:u}))});var _=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),d=Object(i.a)(l,2),p=d[0],m=d[1],f=Object(r.useState)(u),g=Object(i.a)(f,2),b=g[0],v=g[1];return n.a.createElement("div",{className:"app"},n.a.createElement(s,null),n.a.createElement(o,{setSearchField:m,setAddButtonClick:c,setSelectSort:v}),n.a.createElement(J,{addButtonClick:a,setAddButtonClick:c,searchField:p,selectSort:b}))},F=(a(56),a(18)),Y=a(31),z=a.n(Y),H={currentItems:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.INITIAL_ITEMS_ARRAY:var a=t.payload.productsArray;return"Highest Price"===t.payload.selectSort?a=a.sort(g):"Lowest Price"===t.payload.selectSort?a=a.sort(f):t.payload.selectSort===u&&(a=a.sort(b)),"title"===t.payload.selectSort&&(a=a.sort(v)),Object(C.a)({},e,{currentItems:a});default:return e}},G=Object(F.b)({items:V}),K=[z.a],W=Object(F.c)(G,F.a.apply(void 0,K));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O.a,{store:W},n.a.createElement(_,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d5c8e96d.chunk.js.map