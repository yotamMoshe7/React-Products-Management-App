(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/addImageIcon.786809da.webp"},32:function(e,t,a){e.exports=a(57)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),c=a(20),l=a.n(c),i=a(9),o=(a(37),function(){return n.a.createElement("div",{className:"topBar"},"My Store")}),s=(a(38),"Last Added"),u=function(e){var t=e.setAddButtonClick,a=e.setSearchField,r=e.setSelectSort;return n.a.createElement("div",{className:"buttons-input-wrapper"},n.a.createElement("div",{className:"add-button-wrapper",onClick:function(){t(!0)}},n.a.createElement("button",{className:"add-button"},"Add +")),n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("input",{className:"input",type:"text",placeholder:"Search Products",onChange:function(e){a(e.target.value)}})),n.a.createElement("div",{className:"sort-by-wrapper"},n.a.createElement("select",{name:"sort-options",className:"sort-by",onChange:function(e){r(e.target.value)}},n.a.createElement("option",{value:s},s),n.a.createElement("option",{value:"Higher Price"},"Higher Price"),n.a.createElement("option",{value:"title"},"title"))))},d=(a(39),{id:null,imageUrl:null,date:null,title:"",description:"",price:""}),p=function(e){switch(!0){case e.title.length>22:return"Title can not contain more then 25 chars";case e.description.length>130:return"Description can not contain more then 130 chars";case e.price.length>7:return"Price can not contain more then 7 chars";case""===e.title||""===e.description||""===e.price:return"Please fill all the input fields";case e.price<=0:return"Price must be greater then 0";case null===e.imageUrl:return"Please upload an image";default:return null}},m=function(e,t){return!(!e.title.toLowerCase().includes(t.toLowerCase())&&!e.description.toLowerCase().includes(t.toLowerCase()))},f=function(e){console.log("b");var t=JSON.parse(localStorage.getItem("productsPriceSortList"))||[];if(0===t.length)t.push(e);else if(parseInt(t[t.length-1].price)>parseInt(e.price))t.push(e);else for(var a=0;a<t.length;a++)if(parseInt(t[a].price)<parseInt(e.price)){console.log(t[a].price),console.log(e),t.splice(a,0,e);break}localStorage.setItem("productsPriceSortList",JSON.stringify(t))},g=function(e){for(var t=JSON.parse(localStorage.getItem("productsPriceSortList"))||[],a=0;a<t.length;a++)if(t[a].id===e.id){t.splice(a,1);break}localStorage.setItem("productsPriceSortList",JSON.stringify(t))},b=function(e){var t=[];return e===s?(console.log(s),t=JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[]):"Higher Price"===e?(console.log("Higher Price"),t=JSON.parse(localStorage.getItem("productsPriceSortList"))||[]):"title"===e&&(console.log("title"),t=JSON.parse(localStorage.getItem("productsTitleSortList"))||[]),t},v=function(e){var t=JSON.parse(localStorage.getItem("lastIdValue"))||0;return localStorage.setItem("lastIdValue",JSON.stringify(t+1)),t},S=a(16),E={INITIAL_ITEMS_ARRAY:"INITIAL_ITEMS_ARRAY"},O=function(e){return{type:E.INITIAL_ITEMS_ARRAY,payload:e}},h=(a(43),a(15)),I=a(11),N=function(e){var t=e.page,a=e.setPage,r=e.filteredProductList;return n.a.createElement("div",{className:"page-number-wrapper"},n.a.createElement("div",{onClick:t>1?function(){a(t-1)}:null},n.a.createElement(h.a,{icon:I.a,style:{fontSize:"2em",color:t>1?"white":"rgb(70, 67, 67)",marginRight:"0.5vw"}})),n.a.createElement("div",{className:"page-number"}," ",t," "),n.a.createElement("div",{onClick:4*t<r.length?function(){a(t+1)}:null},n.a.createElement(h.a,{icon:I.b,style:{fontSize:"2em",color:4*t<r.length?" white":"rgb(70, 67, 67)",marginLeft:"0.5vw"}})))},j=a(17),y=a.n(j),w=a(21),P=a(22),k=a(12),L=(a(48),a(27));a(52);L.a.initializeApp({apiKey:"AIzaSyAE-A62neuu272fA7MY7VWgxUctzNIURwE",authDomain:"product-management-6d658.firebaseapp.com",projectId:"product-management-6d658",storageBucket:"product-management-6d658.appspot.com",messagingSenderId:"653275623932",appId:"1:653275623932:web:1aedb847f212df211e4279",measurementId:"G-LCRFPLE45M"});var A=L.a.storage(),C=(a(53),a(30)),J=a.n(C),T=function(e){var t=e.product,a=e.setProduct,c=Object(r.useRef)(null),l=Object(r.useState)(null),o=Object(i.a)(l,2),s=o[0],u=o[1],d=Object(r.useState)(null),p=Object(i.a)(d,2),m=p[0],f=p[1],g=["image/png","image/jpeg","image/jpg"],b=function(e){c.current.click()},v=function(e){var t=Object(r.useState)(0),a=Object(i.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(null),o=Object(i.a)(l,2),s=o[0],u=o[1],d=Object(r.useState)(null),p=Object(i.a)(d,2),m=p[0],f=p[1];return Object(r.useEffect)(function(){if(e){var t=A.ref(e.name);t.put(e).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);c(t)},function(e){u(e)},Object(w.a)(y.a.mark(function e(){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:a=e.sent,f(a);case 4:case"end":return e.stop()}},e)})))}},[e]),{progress:n,url:m,error:s}}(s).url;return Object(r.useEffect)(function(){null!==s&&a(Object(k.a)({},t,{imageUrl:v}))},[v]),n.a.createElement("div",{className:"display-image-wrapper"},n.a.createElement("img",{className:"display-image",alt:"product illustration",style:{padding:null===t.imageUrl?"0.2vw":null},src:null===t.imageUrl?J.a:t.imageUrl,onClick:b}),n.a.createElement("label",{className:"uploade-image"},n.a.createElement(h.a,{icon:I.c,style:{marginLeft:"1vw",width:"2.5vw",height:"2.5vw"}},n.a.createElement("button",{onClick:b})),n.a.createElement("input",{type:"file",ref:c,onChange:function(e){var t=e.target.files[0];t&&(g.includes(t.type)?(f(null),u(t)):(u(null),f("Please select an image file (png or jpg)")))},style:{display:"none"}})),m&&n.a.createElement("p",null,m))},B=(a(54),function(e){var t=e.setAddButtonClick,a=e.setMarkProductId,r=e.setProduct,c=e.emptyProductObject;return n.a.createElement("div",{onClick:function(){t(!1),a(null),r(c)}},n.a.createElement(h.a,{icon:I.d,style:{position:"absolute",right:"0px"},className:"colse-button"}))}),R=Object(S.b)(function(e){return{currentItems:e.items.currentItems}},function(e){return{initialProductArray:function(t){return e(O(t))}}})(function(e){var t=e.initialProductArray,a=e.addButtonClick,c=e.setAddButtonClick,l=e.currentItems,o=e.markProductId,s=e.setMarkProductId,u=e.selectSort,m=Object(r.useState)({id:null,imageUrl:null,date:null,title:"",description:"",price:""}),S=Object(i.a)(m,2),E=S[0],O=S[1],h=Object(r.useState)(!1),I=Object(i.a)(h,2),N=I[0],j=I[1],L=Object(r.useState)(null),A=Object(i.a)(L,2),C=A[0],J=A[1],R=Object(r.useRef)(!1),D=Object(r.useRef)(!1),M=function(e){O(Object(k.a)({},E,Object(P.a)({},e.target.name,e.target.value)))};Object(r.useEffect)(function(){(a||N)&&(O(d),s(null))},[a,N,s]),Object(r.useEffect)(function(){var e=l.find(function(e){return e.id===o});null!==o&&O({id:e.id,imageUrl:e.imageUrl,date:e.date,title:e.title,description:e.description,price:e.price})},[o,l]),Object(r.useEffect)(function(){if(j(!1),R.current){var e=p(E);if(J(e),null===e){!function(e){for(var t=JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[],a=0;a<t.length;a++)t[a].id===e.id&&(t[a]=e);localStorage.setItem("productsLastAddedSortList",JSON.stringify(t))}(E),function(e){g(e),f(e)}(E),function(e){for(var t=JSON.parse(localStorage.getItem("productsTitleSortList"))||[],a=0;a<t.length;a++)if(t[a].id===e.id){t[a]=e;break}localStorage.setItem("productsTitleSortList",JSON.stringify(t))}(E);var a=b(u);t(a),j(!0),R.current=!1}else R.current=!1}},[E,t,u]),Object(r.useEffect)(function(){if(j(!1),null!==E.date&&null!==E.id&&D.current){var e=p(E);if(J(e),null===e){!function(e){var t=JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[];t.push(e),localStorage.setItem("productsLastAddedSortList",JSON.stringify(t))}(E),f(E),function(e){var t=JSON.parse(localStorage.getItem("productsTitleSortList"))||[];if(0===t.length)t.push(e);else if(t[t.length-1].title.toLowerCase()<e.title.toLowerCase())t.push(e);else for(var a=0;a<t.length;a++)if(t[a].title.toLowerCase()>e.title.toLowerCase()){t.splice(a,0,e);break}localStorage.setItem("productsTitleSortList",JSON.stringify(t))}(E);var a=b(u);t(a),j(!0),D.current=!1}else D.current=!1}},[E,t,u]);var U=function(){var e=Object(w.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!==o?(R.current=!0,O(Object(k.a)({},E,{date:new Date}))):(D.current=!0,O(Object(k.a)({},E,{id:v(),date:new Date})));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a||null!==o?n.a.createElement("div",{className:"prducts-display-wrapper"},n.a.createElement("div",{className:"prducts-display-sub-wrapper"},n.a.createElement(B,{setAddButtonClick:c,setMarkProductId:s,setProduct:O,emptyProductObject:d}),n.a.createElement("div",{className:"display-title"},"Product Details"),n.a.createElement(T,{product:E,setProduct:O}),n.a.createElement("div",{className:"display-title"},"Title"),n.a.createElement("input",{className:"product-name",name:"title",type:"text",onChange:M,value:E.title}),n.a.createElement("div",{className:"display-title"},"Description"),n.a.createElement("textarea",{className:"product-description",name:"description",value:E.description,onChange:M}),n.a.createElement("div",{className:"display-title"},"Price"),n.a.createElement("div",{className:"bottom-wrapper"},n.a.createElement("input",{className:"product-price",name:"price",type:"number",value:E.price,onChange:M}),n.a.createElement("div",{className:"error-wrapper"},n.a.createElement("div",{className:"error-message"},C)),n.a.createElement("button",{className:"save-button",onClick:U},"Save")))):null}),D=(a(55),function(e){var t=e.id,a=e.productDetails,c=e.markProductId,l=e.setMarkProductId,i=e.setAddButtonClick,o=e.setProductIdToDelete,s=e.finishDeleteProduct,u=Object(r.useRef)(!1);return n.a.createElement("div",{className:"element-wrapper",style:{backgroundColor:c===t?"rgb(11, 43, 11)":null},onClick:function(){c!==t?u.current||(l(t),i(!1)):l(null)}},n.a.createElement("div",{className:"image-wrapper"},n.a.createElement("img",{className:"image",src:a.imageUrl,alt:"product illustration"})),n.a.createElement("div",{className:"details-wrapper"},n.a.createElement("textarea",{className:"title",disabled:!0,value:a.title}),n.a.createElement("textarea",{className:"description",disabled:!0,value:a.description})),n.a.createElement("div",{className:"date"},null!==a.date?function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth(),"/").concat(t.getFullYear())}(a.date):null),n.a.createElement("div",{className:"delete-button-wrapper"},n.a.createElement("div",{className:"price"},a.price,"$"),n.a.createElement("button",{className:"delete-button",onClick:function(){u.current=!0,s.current=!1,o(t)}},"delete button")))}),M=Object(S.b)(function(e){return{currentItems:e.items.currentItems}},function(e){return{initialProductArray:function(t){return e(O(t))}}})(function(e){var t=e.addButtonClick,a=e.setAddButtonClick,c=e.searchField,l=e.currentItems,o=e.initialProductArray,s=e.selectSort,u=Object(r.useState)(null),d=Object(i.a)(u,2),p=d[0],f=d[1],v=Object(r.useState)([]),S=Object(i.a)(v,2),E=S[0],O=S[1],h=Object(r.useState)(null),I=Object(i.a)(h,2),j=I[0],y=I[1],w=Object(r.useState)(1),P=Object(i.a)(w,2),k=P[0],L=P[1],A=Object(r.useRef)(!0),C=Object(r.useRef)(!1);Object(r.useEffect)(function(){var e=b(s);o(e),L(1)},[s,o]),Object(r.useEffect)(function(){for(var e=[],t=0;t<l.length;t++)m(l[t],c)&&e.push(l[t]);O(e),A.current=!1},[l,c]),Object(r.useEffect)(function(){f(null),y(null)},[l]),Object(r.useEffect)(function(){l.length%4===0&&4*k>l.length&&k>1&&L(k-1)},[k,l]),Object(r.useEffect)(function(){if(null!==j&&!C.current){f(null);var e=l.find(function(e){return e.id===j});!function(e){for(var t=[],a=JSON.parse(localStorage.getItem("productsLastAddedSortList"))||[],r=0;r<a.length;r++)a[r].id!==e.id&&t.push(a[r]);localStorage.setItem("productsLastAddedSortList",JSON.stringify(t))}(e),g(e),function(e){for(var t=JSON.parse(localStorage.getItem("productsTitleSortList"))||[],a=0;a<t.length;a++)if(t[a].id===e.id){t.splice(a,1);break}localStorage.setItem("productsTitleSortList",JSON.stringify(t))}(e);var t=b(s);o(t),C.current=!0}},[j,o,s,l]);return n.a.createElement("div",{className:"products-display-container-wrapper"},n.a.createElement("div",null,0!==E.length||A.current?n.a.createElement("div",null,n.a.createElement("div",{className:"products-display-container"},E.length>0?function(){for(var e=[],t=4*(k-1);t<4*k&&void 0!==E[t];t++)e.push(n.a.createElement(D,{key:t,id:E[t].id,markProductId:p,setMarkProductId:f,setAddButtonClick:a,productDetails:E[t],setProductIdToDelete:y,currentItems:l,finishDeleteProduct:C}));return e}():null),n.a.createElement(N,{page:k,setPage:L,filteredProductList:E})):n.a.createElement("div",{className:"no-products-message"},"No Products")),n.a.createElement(R,{addButtonClick:t,setAddButtonClick:a,markProductId:p,setMarkProductId:f,setProductIdToDelete:y,selectSort:s}))});var U=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),d=Object(i.a)(l,2),p=d[0],m=d[1],f=Object(r.useState)(s),g=Object(i.a)(f,2),b=g[0],v=g[1];return n.a.createElement("div",{className:"app"},n.a.createElement(o,null),n.a.createElement(u,{setSearchField:m,setAddButtonClick:c,setSelectSort:v}),n.a.createElement(M,{addButtonClick:a,setAddButtonClick:c,searchField:p,selectSort:b}))},x=(a(56),a(18)),_=a(31),F=a.n(_),Y={currentItems:[]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.INITIAL_ITEMS_ARRAY:return Object(k.a)({},e,{currentItems:t.payload});default:return e}},H=Object(x.b)({items:z}),V=[F.a],G=Object(x.c)(H,x.a.apply(void 0,V));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S.a,{store:G},n.a.createElement(U,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.304feb3c.chunk.js.map